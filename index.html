<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
</head>
<body>
    <h1>Formulario</h1>
    <form onsubmit="return validaCampos()">
        <div>
            <label for="id_nombre">Nombre:</label>
            <input type="text" name="nombre" id="id_nombre" value="Ingrese su nombre" required>
        </div>

        <div>
            <label for="id_apellido">Apellidos:</label>
            <input type="text" name="apellido" id="id_apellido" value="Ingrese sus apellidos" required>
        </div>

        <div>
            <label for="id_edad">Edad:</label>
            <input type="text" name="edad" id="id_edad" value="Ingrese su edad" required>
        </div>

        <div>
            <label for="id_sexo">Sexo:</label>
            <select name="sexo" id="id_sexo" onchange="cambiarSituacionFamiliar()">
                <option value="masculino">Masculino</option>
                <option value="femenino">Femenino</option>
            </select>
        </div>

        <div>
            <label for="id_situacion">Situación Familiar:</label>
            <select name="situacion" id="id_situacion">
                <option value="" hidden>Selecciona una opción</option>
                <option value="soltero">Soltero</option>
                <option value="casado">Casado</option>
                <option value="divorciado">Divorciado</option>
                <option value="viudo">Viudo</option>
            </select>
        </div>

        <div>
            <label for="id_email">Email:</label>
            <input type="text" name="email" id="id_email" value="Ingrese su correo electrónico" required>
        </div>

        <div>
            <label for="id_telefono">Teléfono:</label>
            <input type="text" name="telefono" id="id_telefono" value="Ingrese su número de teléfono">
        </div>

        <div>
            <button type="submit">Enviar</button>
        </div>

        <div id="id_mensaje_error" style="color: red;"></div>
    </form>

    <script>
        function validaCampos() {
            const nombre = document.getElementById("id_nombre").value;
            const apellido = document.getElementById("id_apellido").value;
            const edad = document.getElementById("id_edad").value;
            const sexo = document.getElementById("id_sexo").value;
            const email = document.getElementById("id_email").value;
            const telefono = document.getElementById("id_telefono").value;

            if (isNaN(edad) || parseInt(edad) <= 18) {
                mostrarError("La edad debe ser mayor a 18 años.");
                return false;
            }

            const emailValidar = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailValidar.test(email)) {
                mostrarError("El email ingresado no es válido.");
                return false;
            }

            const telefonoValidar = /^[0-9\s]+$/;
            if (!telefonoValidar.test(telefono)) {
                mostrarError("El teléfono solo puede contener números o espacios.");
                return false;
            }

            document.getElementById("id_nombre").value = nombre.toLowerCase().replace(/^\w/, c => c.toUpperCase());
            document.getElementById("id_apellido").value = apellido.toLowerCase().replace(/^\w/, c => c.toUpperCase());

            return true;
        }

        
    </script>
</body>
</html>
